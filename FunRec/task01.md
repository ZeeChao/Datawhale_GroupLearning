# 1. 推荐系统概述
## 1.1. 推荐系统的意义
推荐系统存在的意义核心在于，将特性不同的信息产物与需求不同的信息消费者进行良性匹配，满足信息消费者和信息生产者各自的诉求，实现双赢，并基于此提升平台（推荐系统载体）的价值，最终达到三赢的局面。

### 1.1.1. 平台
平台是推荐系统的载体。对信息生产者而言，它提供了资源位和曝光量使信息产物有更多的机会被消费者看到。对信息消费者而言，它展示了他们可能感兴趣的物品，进而促进二者的一系列交互（点击、观看、点赞、收藏、评论、下单和支付等），即产生“流量”。

推荐系统的存在使一个网站或者APP的页面拓扑结构从流通性较差的树状结构变成流通性更强的网状结构。在这种结构下，用户触达预期物品的机会大大增加，进而增提升了交互率。

从产品或者业务的角度来看，推荐系统能够最大限度地提升用户渗透并提升用户粘性，进而促进平台商业化的目标增长，最终实现平台自身收益的提升。换句话说，推荐系统可以拓宽其触及到的业务链路的转化漏斗，为平台收益提升提供充足的流量基础。

### 1.1.2. 信息产物与信息生产者
信息产物也就是物品（视频、商品、新闻甚至是其他用户），它是由信息生产者创造或者提供的可能会满足消费者需求的东西。信息生产者可以是视频制作者、商家、媒体甚至是平台自身。

合格的推荐系统会让平台上的物品得到合理的曝光。这里，合理一方面指的是把物品推荐给对的人，另一方面指的是让所有有价值的物品都有机会得到曝光。

任何平台，其物品的分布难免会存在长尾分布的情况。具体来说，平台上大部分的热门物品可能只占所有物品的一小部分比例。而大多数人的需求可能要其他非热门的物品才能满足。

### 1.1.3. 信息消费者
信息消费者更常用的称呼是用户。一个好的推荐系统，不能仅限于满足用户的信息需求，还要尽可能地提升用户的使用体验。这里的用户体验，除了曝光用户满意的物品之外，还包括推荐物品的多样性，用户兴趣的挖掘等。

### 1.1.4. 搜索、广告和推荐的区别
1. 根本上的区别
* 搜索：要解决的关键问题全部围绕用户的query展开。如何围绕query高效获取准确信息是它要解决的根本问题。尽管如今的搜索越来越强调个性化结果。但推荐算法强调的个性化永远只是搜索算法的补充。
* 广告：不管哪家公司，目的只有一个，那就是直接增加公司收入。
* 推荐：尽管也是为了增加公司收入，但是是以一种间接的方法实现的。它更直接的目的是增加用户的参与度或者说是增进用户与物品的交互。交互代表着流量，流量多了，平台的后续商业化目标才更有可能获得增长。

2. 优化目标的区别
* 搜索：使用搜索的用户往往是有明确目的或者是希望得到正确答案的。因此搜索非常看重正确答案的召回情况。因此搜索看重后者优化的目标通常包括召回率、MAP和NDCG等。
* 广告：不管哪家公司，广告关注的指标都高度统一，就是CTR和CVR。这是因为当前效果类广告的计价方式都高度统一，基本上都离不开点击和进一步转化。因此只有针对二者进行预估才能反向推导出流量的价值。更重要的是，CTR和CVR一般会直接参与后续的决策，这也意味着它们直接与收益和资损挂钩。它们的预估如果有偏差，很有可能导致收益无法最大化甚至是赔钱，因此广告看重的优化目标主要是预估偏差。
* 推荐：推荐算法由于应用场景丰富且不同场景关注内容不同，因此其指标非常多样，例如APP关注渗透和留存，电商关注CTR、CVR和GMV，视频关注平均观看时长、点赞收藏和评论等。其评估更加看重AUC、GAUC等指标。

总而言之，搜索关注“完备性”，广告关注“准确性”，推荐关注“排序性”。

3. 算法设计的区别
* 搜索：关注物品与query的关联性，以及对query的理解。因此，query与其他特征组成的交叉特征和组合特征，以及模型中隐式交叉部分非常重要。对于一些特定场景（例如，搜索引擎等），还要在一定程度上抑制个性化需求，将质量更高或者权威性更高的物品放在靠前的位置。
* 广告：关注CTR和CVR的准确性，用于计算后续出价。因此对准确度的要求更高。此时，仅仅预测广告之间的相对排序位置是难以满足要求的。同时，模型在训练时的一些trick，例如负采样、样本权重和采用特殊的损失函数等，会显著改变原始数据的分布。这也就催生出了校准这一关键技术。另外，由于广告很少是以列表形式连续呈现的，因此多是以point wise的方式进行训练的。
* 推荐：推荐的结果多半是以列表形式呈现的，因此对相对排序位置更加看重，对准确性的要求反而没那么高。有时候，为了让用户的参与度更高，还会关注内容多样性对用户的吸引力。因此推荐算法有很多不同的训练方法，包括但不限于point wise，pair wise和list wise等。此外，为了提升用户的长期参与度，还对推荐内容的多样性和新鲜度有更高的要求，这就让探索和利用，还有强化学习等方法在推荐场景下更受重视。

4. 辅助策略或辅助算法的区别
* 搜索：辅助算法还是聚焦在query的理解上。因此搜索场景应用了很多的NLP模型。
* 广告：预估准确CTR和CVR只是基本前提，如何让广告持续最大化盈利，还需要多个算法模块，例如pacing、biding、budget control和ads allocation等，之间的密切配合。
* 推荐：由于需要考虑用户长期兴趣，因此需要补充一些看似非最优的选择，例如探索性尝试一些长尾内容，在生成列表是加入多样性约束等等。

5. 模型自身的区别
* 搜索：query与物品之间天然是一个双塔结构，因此在模型中各种特征交叉融合的结构是重点。
![alt text](https://pic2.zhimg.com/v2-067e13a072c6519d21565b56decb4b17_1440w.jpg)
* 广告：用户兴趣连贯性不高，因此序列建模效果未必很好，注意力机制的重要性会更高。
* 推荐：用户兴趣连贯性很重要，因此序列建模往往很有必要。
![alt text](https://pic3.zhimg.com/v2-ddd3f8515d95b1489e8046b4acc6fb00_1440w.jpg)
